# Nordic Semiconductor nRF71 MCU line

# Copyright (c) 2025 Nordic Semiconductor ASA
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause

config SOC_SERIES_NRF71X
	select HAS_NRFX
	select HAS_NORDIC_DRIVERS
	select HAS_SEGGER_RTT if ZEPHYR_SEGGER_MODULE
	select SOC_EARLY_INIT_HOOK
	select SOC_RESET_HOOK
	select NRF_PLATFORM_LUMOS

config SOC_NRF7120_ENGA_CPUAPP
	select ARM
	select ARMV8_M_DSP
	select CPU_CORTEX_M33
	select CPU_HAS_ARM_MPU
	select CPU_HAS_ICACHE
	select CPU_HAS_ARM_SAU
	select CPU_HAS_FPU
	select HAS_HW_NRF_RADIO_IEEE802154
	select HAS_POWEROFF
	select HAS_SWO

config SOC_NRF7120_ENGA_CPUFLPR
	select RISCV_CORE_NORDIC_VPR

if SOC_SERIES_NRF71X

DT_MPC_REGION_SIZE := $(dt_nodelabel_path,nrf_mpc_region)

config NRF_TRUSTZONE_FLASH_REGION_SIZE
	hex
	default $(dt_node_int_prop_hex,$(DT_MPC_REGION_SIZE),override-granularity)
	help
	  This defines the flash region size from the TRUSTZONE perspective.
	  It is used when configuring the TRUSTZONE and when setting alignments
	  requirements for the partitions.
	  This abstraction allows us to configure TRUSTZONE without depending
	  on peripheral specific symbols.

config NRF_TRUSTZONE_RAM_REGION_SIZE
	hex
	default $(dt_node_int_prop_hex,$(DT_MPC_REGION_SIZE),override-granularity)
	help
	  This defines the RAM region size from the TRUSTZONE perspective.
	  It is used when configuring the TRUSTZONE and when setting alignments
	  requirements for the partitions.
	  This abstraction allows us to configure TRUSTZONE without depending
	  on peripheral specific symbols.

config VBAT_MONITOR_ENABLE
	bool "Enable VBAT monitoring"
	default y
	select NRFX_SAADC
	select ADC
	help
	  Enable periodic VBAT voltage monitoring using SAADC.
	  When enabled, the application will periodically measure
	  the battery voltage and trigger a callback if it falls
	  below the configured threshold.

if VBAT_MONITOR_ENABLE

config VBAT_MONITOR_INTERVAL_MS
	int "VBAT measurement interval (milliseconds)"
	default 5000
	range 100 3600000
	help
	  Interval between VBAT measurements in milliseconds.
	  Minimum: 100 ms
	  Maximum: 3600000 ms (1 hour)

config VBAT_MONITOR_LOWER_THRESHOLD_MV
	int "VBAT low threshold (millivolts)"
	default 250
	range 200 5000
	help
	  Battery voltage threshold in millivolts. When the measured
	  voltage falls below this value, the low battery callback
	  will be triggered.
	  Typical range: 2000-5000 mV

config VBAT_MONITOR_LOG_LEVEL
	int "VBAT monitor log level"
	default 3
	range 0 4
	help
	  Log level for VBAT monitor module:
	  0 = OFF
	  1 = ERROR
	  2 = WARN
	  3 = INFO
	  4 = DEBUG

endif # VBAT_MONITOR_ENABLE


endif # SOC_SERIES_NRF71X
